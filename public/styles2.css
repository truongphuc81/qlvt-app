/* ==============================================
   CUSTOM STYLES (Bổ trợ Bootstrap 5)
   ============================================== */

/* Font chữ và nền */
body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    font-size: 0.95rem;
}

/* Timeline Custom (Dùng lại của bạn) */
.timeline-wrapper { position: relative; padding: 10px 0; }
.timeline-steps { display: flex; justify-content: space-between; position: relative; }
.timeline-steps::before {
    content: ""; position: absolute; top: 15px; left: 0; right: 0;
    height: 3px; background-color: #e9ecef; z-index: 0;
}
.step { position: relative; z-index: 1; text-align: center; width: 60px; opacity: 0.5; }
.step.active { opacity: 1; }
.step-circle {
    width: 32px; height: 32px; background: #fff; border: 3px solid #dee2e6;
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    margin: 0 auto 5px; font-weight: bold; color: #6c757d; font-size: 14px;
}
.step.active .step-circle {
    border-color: #0d6efd; background: #0d6efd; color: white;
}
.step-label { font-size: 11px; font-weight: 600; color: #495057; }

/* Photo Grid */
.photo-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); gap: 8px;
}
.photo-item {
    position: relative; width: 100%; padding-top: 100%; border-radius: 6px; overflow: hidden; border: 1px solid #dee2e6;
}
.photo-item img {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;
}

/* Logic ẩn hiện External (Giữ nguyên) */
.ext-only { display: none !important; }
.mode-external .ext-only { display: table-cell !important; }
div.mode-external .ext-only { display: flex !important; }

/* Lightbox Ảnh (Giữ nguyên) */
.image-modal {
    display: none; position: fixed; z-index: 3000; left: 0; top: 0; width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.9); align-items: center; justify-content: center;
}
.image-modal-content { max-width: 95%; max-height: 95vh; object-fit: contain; }
.close-img { position: absolute; top: 15px; right: 30px; color: #fff; font-size: 40px; cursor: pointer; }

/* Tiện ích khác */
.dashed-border { border-style: dashed !important; }
.nav-link { cursor: pointer; }
.table-responsive { overflow-x: auto; }

/* Mobile Table Tweaks */
@media (max-width: 768px) {
    .btn-sm-mobile { width: 100%; margin-bottom: 5px; }
}